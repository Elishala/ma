<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Yoga Contact List</title>
    <link rel="stylesheet" href="css/reset.css">
    <link href='http://fonts.googleapis.com/css?family=Philosopher' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=true"/>
    <script>
    // adding autocomplete when text is entered into search field, in relation to finding places on the map
     function initAutocomplete() {
       var map = new google.maps.Map(document.getElementById('map'), {
         center: {lat: 36.0800, lng: -79.8194},
          zoom: 13,
          mapTypeId: google.maps.MapTypeId.ROADMAP
       });
    // creating search box and linking it to the UI
     var input = document.getElementById('box-input');
     var searchBox = new google.maps.places.SearchBox(input);
     map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

     // the SearchBox results are biased towards current maps's view
     map.addListener('bounds_changed', function() {
       searchBox.setBounds(map.getBounds());
     });

     var markers = [];
    // [start region_getplaces]
    // listen for the event fired when the user selects a place and retrieve details for that place
     searchBox.addListener('places_changed', function() {
       var places = searchBox.getPlaces();

       if (places.length == 0) {
         return;
       }

      //  clear out the old markers
       markers.forEach(function(marker) {
         marker.setMap(null);
       });
       markers = [];

      //  for each place, retrieve the icon, name and location
       var bounds = new google.maps.LatLngBounds();
       places.forEach(function(place) {
         var icon = {
           url: place.icon,
           size: new google.maps.Size(71, 71),
           origin: new google.maps.Point(0, 0),
           anchor: new google.maps.Point(17, 34),
           scaledSize: new google.maps.Size(25, 25)
         };

        //  create a marker for each place in the area
       markers.push(new google.maps.Marker({
         map: map,
         icon: icon,
         title: place.name,
         position: place.geometry.location
       }));

       if (place.geometry.viewport) {
        //  only geocodes have viewport
         bounds.union(place.geometry.viewport);
       }  else {
         bounds.extend(place.geometry.location);
       }
     });
     map.fitBounds(bound);
   });
  //  end of region_getplaces
  }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places&callback=initAutocomplete" async defer></script>
  </head>
  <body>
    <header>
      <nav>
        <div class="container">
          <ul>
            <li><a href="#phone" title="phone" alt="phone number">phone</a></li>
            <li><a href="#address" title="address" alt="address">address</a></li>
            <li><a href="#email" title="email" alt="email">email</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <h1>Yoga Studio Contact List</h1>
    <input id="box-input" class="controls" type="text" placeholder="Search Box">
    <div id="map"></div>

    <section id="contact-dets">
          <form action=" " method="post">
            <h2>Studio Information</h2>
            <label>Studio Name</label>
              <input type="text" name="name"></input>
            <label>Studio Address</label>
              <input type="text" id="address" name="address"></input>
            <label>Studio Phone</label>
              <input type="text" id="phone" name="phone"></input>
            <label>Studio Email</label>
              <input type="text" id="email" name="email"></input>
          </form>
      </section>
    <footer> </footer>
  </body>
</html>
